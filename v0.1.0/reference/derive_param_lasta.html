<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Adds a parameter for the last disease assessment (optionally) up to first progressive
disease"><title>Adds a Parameter for the Last Disease Assessment — derive_param_lasta • admiralonco</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Adds a Parameter for the Last Disease Assessment — derive_param_lasta"><meta property="og:description" content="Adds a parameter for the last disease assessment (optionally) up to first progressive
disease"><meta property="og:image" content="https://pharmaverse.github.io/admiralonco/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">admiralonco</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/admiralonco.html">Get Started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-user-guides">User Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-user-guides">
    <a class="dropdown-item" href="../articles/adrs.html">Creating ADRS</a>
    <a class="dropdown-item" href="../articles/adtte.html">Creating ADTTE</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://bundfussr.github.io/admiralonco/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://bundfussr.github.io/admiralonco/devel">devel</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://bundfussr.github.io/admiralonco/pre-release">pre-release</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://bundfussr.github.io/admiralonco/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://bundfussr.github.io/admiralonco/v0.2.0">v0.2.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://bundfussr.github.io/admiralonco/v0.1.0">v0.1.0</a> </div></li>
<!-- end dropdown for versions -->
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pharmaverse/admiralonco" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Adds a Parameter for the Last Disease Assessment</h1>
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/admiralonco/blob/test/R/derive_param_lasta.R" class="external-link"><code>R/derive_param_lasta.R</code></a></small>
      <div class="d-none name"><code>derive_param_lasta.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Adds a parameter for the last disease assessment (optionally) up to first progressive
disease</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">derive_param_lasta</span><span class="op">(</span>
  <span class="va">dataset</span>,
  <span class="va">filter_source</span>,
  order <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">ADT</span><span class="op">)</span>,
  source_pd <span class="op">=</span> <span class="cn">NULL</span>,
  source_datasets <span class="op">=</span> <span class="cn">NULL</span>,
  subject_keys <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">STUDYID</span>, <span class="va">USUBJID</span><span class="op">)</span>,
  <span class="va">set_values_to</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dataset</dt>
<dd><p>Input dataframe from which the Last Disease Assessment will be
be derived from and added to.</p>
<p>The column <code>PARAMCD</code> and the columns specified in <code>subject_keys</code> and
<code>order</code> are expected.</p>
<p>After applying <code>filter_source</code> and/or <code>source_pd</code> the columns specified by
<code>subject_keys</code> and <code>order</code> must be a unique key of the dataframe</p>
<p><em>Permitted Values:</em> a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> object</p></dd>
<dt>filter_source</dt>
<dd><p>Filter to be applied to <code>dataset</code> to derive the
Last Disease Assessment</p></dd>
<dt>order</dt>
<dd><p>Sort order, after which the last record shall be taken by
the <code>subject_keys</code> to determine Last Disease Assessment. Created
using <code><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code>.</p>
<p><em>Permitted Values:</em> list of variables or <code>desc(&lt;variable&gt;)</code> function calls
created by <code><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code>, e.g., <code>vars(ADT, desc(AVAL))</code></p></dd>
<dt>source_pd</dt>
<dd><p>Date of first progressive disease (PD)</p>
<p>If the parameter is specified, the observations of the input <code>dataset</code> for
deriving the new parameter are restricted to observations up to the
specified date. Observations at the specified date are included. For
subjects without first PD date all observations are take into account.</p>
<p><em>Permitted Values:</em> a <code>date_source</code> object (see <code><a href="https://rdrr.io/pkg/admiral/man/date_source.html" class="external-link">date_source()</a></code>
for details)</p></dd>
<dt>source_datasets</dt>
<dd><p>Source dataframe to be used to calculate the
first PD date</p>
<p>A named list of dataframes is expected (although for BOR) only one dataframe is
needed. It links the <code>dataset_name</code> from <code>source_pd</code> with an existing dataframe.</p>
<p>For example if <code>source_pd = pd_date</code> with</p>
<p></p><div class="sourceCode r"><pre><code><span class="va">pd_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/admiral/man/date_source.html" class="external-link">date_source</a></span><span class="op">(</span>
  dataset_name <span class="op">=</span> <span class="st">"adrs"</span>,
  date <span class="op">=</span> <span class="va">ADT</span>,
  filter <span class="op">=</span> <span class="va">PARAMCD</span> <span class="op">==</span> <span class="va">PD</span>
<span class="op">)</span></code></pre><p></p></div>
<p>and the actual response dataframe in the script is <code>myadrs</code>, <code>source_datasets = list(adrs = myadrs)</code> should be specified.</p></dd>
<dt>subject_keys</dt>
<dd><p>Columns to uniquely identify a subject</p>
<p>A list of symbols created using <code><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code>.</p></dd>
<dt>set_values_to</dt>
<dd><p>Columns to set</p>
<p>A named list returned by <code><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code> defining the columns to be set for the
new parameter, e.g. <code>vars(PARAMCD = "LSTAC", PARAM = "Last Disease Assessment Censored at First PD by Investigator")</code> is expected. The values
must be symbols, character strings, numeric values, or <code>NA</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The dataframe passed in the <code>dataset</code> argument with additional
columns and/or rows as set in the <code>set_values_to</code> argument.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Calculates the last disease assessment by accessing the last record
defined in <code>subject_keys</code> after it has been arranged using the <code>order</code> argument.</p>
<p>Creates a new parameter record (keeping all columns passed) from the last source
record (i.e. the last record defined in <code>subject_keys</code> after it has been arranged
using the <code>order</code> argument). One new record for each subject in the filtered
input <code>dataset</code> is added to the input <code>dataset</code>.</p>
<p>Records after PD can be removed using the <code>source_pd</code> and <code>source_datasets</code>
arguments.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>ADRS Functions for adding Parameters: 
<code><a href="derive_param_bor.html">derive_param_bor</a>()</code>,
<code><a href="derive_param_clinbenefit.html">derive_param_clinbenefit</a>()</code>,
<code><a href="derive_param_confirmed_bor.html">derive_param_confirmed_bor</a>()</code>,
<code><a href="derive_param_confirmed_resp.html">derive_param_confirmed_resp</a>()</code>,
<code><a href="derive_param_response.html">derive_param_response</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Stephen Gormley</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="op">~</span><span class="va">USUBJID</span>, <span class="op">~</span><span class="va">TRTSDT</span>,                      <span class="op">~</span><span class="va">EOSDT</span>,</span>
<span class="r-in">  <span class="st">"01"</span>,     <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2020-12-06"</span><span class="op">)</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2022-03-06"</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="st">"02"</span>,     <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-01-16"</span><span class="op">)</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2022-02-03"</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="st">"03"</span>,     <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-01-09"</span><span class="op">)</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-02-24"</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="st">"04"</span>,     <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-04-21"</span><span class="op">)</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-09-15"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>STUDYID <span class="op">=</span> <span class="st">"a_study_id"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">adrs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="op">~</span><span class="va">USUBJID</span>, <span class="op">~</span><span class="va">PARAMCD</span>, <span class="op">~</span><span class="va">AVAL</span>, <span class="op">~</span><span class="va">AVALC</span>, <span class="op">~</span><span class="va">ASEQ</span>, <span class="op">~</span><span class="va">ADT</span>, <span class="op">~</span><span class="va">ANL01FL</span>,</span>
<span class="r-in">  <span class="st">"01"</span>, <span class="st">"RSP"</span>, <span class="cn">NA</span>, <span class="st">"Y"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-04-08"</span><span class="op">)</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"02"</span>, <span class="st">"RSP"</span>, <span class="cn">NA</span>, <span class="st">"N"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-05-07"</span><span class="op">)</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"03"</span>, <span class="st">"RSP"</span>, <span class="cn">NA</span>, <span class="st">"N"</span>, <span class="fl">1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"04"</span>, <span class="st">"RSP"</span>, <span class="cn">NA</span>, <span class="st">"N"</span>, <span class="fl">1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"01"</span>, <span class="st">"PD"</span>, <span class="cn">NA</span>, <span class="st">"N"</span>, <span class="fl">1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"02"</span>, <span class="st">"PD"</span>, <span class="cn">NA</span>, <span class="st">"Y"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-05-07"</span><span class="op">)</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"03"</span>, <span class="st">"PD"</span>, <span class="cn">NA</span>, <span class="st">"N"</span>, <span class="fl">1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"04"</span>, <span class="st">"PD"</span>, <span class="cn">NA</span>, <span class="st">"N"</span>, <span class="fl">1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"01"</span>, <span class="st">"OVR"</span>, <span class="fl">3</span>, <span class="st">"SD"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-03-07"</span><span class="op">)</span>, <span class="st">"Y"</span>,</span>
<span class="r-in">  <span class="st">"01"</span>, <span class="st">"OVR"</span>, <span class="fl">2</span>, <span class="st">"PR"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-04-08"</span><span class="op">)</span>, <span class="st">"Y"</span>,</span>
<span class="r-in">  <span class="st">"02"</span>, <span class="st">"OVR"</span>, <span class="fl">3</span>, <span class="st">"SD"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-03-07"</span><span class="op">)</span>, <span class="st">"Y"</span>,</span>
<span class="r-in">  <span class="st">"02"</span>, <span class="st">"OVR"</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-04-07"</span><span class="op">)</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"02"</span>, <span class="st">"OVR"</span>, <span class="fl">6</span>, <span class="st">"PD"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-05-07"</span><span class="op">)</span>, <span class="st">"Y"</span>,</span>
<span class="r-in">  <span class="st">"03"</span>, <span class="st">"OVR"</span>, <span class="fl">3</span>, <span class="st">"SD"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-01-30"</span><span class="op">)</span>, <span class="cn">NA</span>,</span>
<span class="r-in">  <span class="st">"03"</span>, <span class="st">"OVR"</span>, <span class="fl">3</span>, <span class="st">"SD"</span>, <span class="fl">2</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-01-30"</span><span class="op">)</span>, <span class="st">"Y"</span>,</span>
<span class="r-in">  <span class="st">"04"</span>, <span class="st">"OVR"</span>, <span class="cn">NA</span>, <span class="st">"NE"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-05-21"</span><span class="op">)</span>, <span class="st">"Y"</span>,</span>
<span class="r-in">  <span class="st">"04"</span>, <span class="st">"OVR"</span>, <span class="fl">5</span>, <span class="st">"NON-PD"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-06-30"</span><span class="op">)</span>, <span class="st">"Y"</span>,</span>
<span class="r-in">  <span class="st">"04"</span>, <span class="st">"OVR"</span>, <span class="cn">NA</span>, <span class="st">"NE"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-07-24"</span><span class="op">)</span>, <span class="st">"Y"</span>,</span>
<span class="r-in">  <span class="st">"04"</span>, <span class="st">"OVR"</span>, <span class="cn">NA</span>, <span class="st">"ND"</span>, <span class="fl">1</span>, <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2021-09-30"</span><span class="op">)</span>, <span class="st">"Y"</span></span>
<span class="r-in"><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>STUDYID <span class="op">=</span> <span class="st">"a_study_id"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">pd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/admiral/man/date_source.html" class="external-link">date_source</a></span><span class="op">(</span></span>
<span class="r-in">  dataset_name <span class="op">=</span> <span class="st">"adrs"</span>,</span>
<span class="r-in">  date         <span class="op">=</span> <span class="va">ADT</span>,</span>
<span class="r-in">  filter       <span class="op">=</span> <span class="va">PARAMCD</span> <span class="op">==</span> <span class="st">"PD"</span> <span class="op">&amp;</span> <span class="va">AVALC</span> <span class="op">==</span> <span class="st">"Y"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">derive_param_lasta</span><span class="op">(</span></span>
<span class="r-in">  <span class="va">adrs</span>,</span>
<span class="r-in">  filter_source <span class="op">=</span> <span class="va">PARAMCD</span> <span class="op">==</span> <span class="st">"OVR"</span> <span class="op">&amp;</span> <span class="va">ANL01FL</span> <span class="op">==</span> <span class="st">"Y"</span>,</span>
<span class="r-in">  source_pd <span class="op">=</span> <span class="va">pd</span>,</span>
<span class="r-in">  source_datasets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>adrs <span class="op">=</span> <span class="va">adrs</span><span class="op">)</span>,</span>
<span class="r-in">  set_values_to <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span></span>
<span class="r-in">    PARAMCD <span class="op">=</span> <span class="st">"LSTAC"</span>,</span>
<span class="r-in">    PARAM <span class="op">=</span> <span class="st">"Last Disease Assessment Censored at First PD by Investigator"</span>,</span>
<span class="r-in">    PARCAT1 <span class="op">=</span> <span class="st">"Tumor Response"</span>,</span>
<span class="r-in">    PARCAT2 <span class="op">=</span> <span class="st">"Investigator"</span>,</span>
<span class="r-in">    PARCAT3 <span class="op">=</span> <span class="st">"Recist 1.1"</span>,</span>
<span class="r-in">    ANL01FL <span class="op">=</span> <span class="st">"Y"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">PARAMCD</span> <span class="op">==</span> <span class="st">"LSTAC"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 x 12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID PARAMCD  AVAL AVALC  ASEQ ADT        ANL01FL STUDYID PARAM PARCAT1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;date&gt;</span><span>     </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span>  </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span><span> 01      LSTAC       2 PR        1 2021-04-08 Y       a_stud… Last… Tumor …</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span><span> 02      LSTAC       6 PD        1 2021-05-07 Y       a_stud… Last… Tumor …</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span><span> 03      LSTAC       3 SD        2 2021-01-30 Y       a_stud… Last… Tumor …</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span><span> 04      LSTAC      </span><span style="color: #BB0000;">NA</span><span> ND        1 2021-09-30 Y       a_stud… Last… Tumor …</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 2 more variables: PARCAT2 </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span><span style="color: #949494;">, PARCAT3 </span><span style="color: #949494;font-style: italic;">&lt;chr&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Stefan Bundfuss, Ross Farrugia, Amit Jain, Andrew Smith, Teckla Akinyi, Samia Kabi, Stephen Gormley, Hinal Patel, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC, Amgen Inc..</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

